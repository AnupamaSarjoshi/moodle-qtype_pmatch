<<<<<<< HEAD
define(["jquery"],function(a){var b={baseUrl:"",sessKey:"",qid:"",pendingid:"",init:function(){b.pendingid="tryrule_"+Math.random().toString(36).slice(2);var c=window.location;b.baseUrl=c.protocol+"//"+c.host+c.pathname.replace("question.php","type/pmatch/api/api.php"),b.sessKey=a('#mform1 input[name="sesskey"]').val(),b.qid=a('#mform1 input[name="id"]').val(),a('input[name="tryrule"]').on("click",function(c){c.preventDefault();var d=a(this).parents(".try-rule").prevAll(".answer-rule").first().attr("id").replace("fitem_id_answer_","");b.tryrule(d,this)})},tryrule:function(c,d){M.util.js_pending(b.pendingid);var e=a("#id_answer_"+c).val().trim();if(void 0!==e&&null!==e&&""!==e){var f=a(d).next(".try-rule-result"),g=a("#id_fraction_"+c).val(),h={type:"tryrule",qid:b.qid,ruletxt:e,sesskey:b.sessKey,fraction:g};a.post(b.baseUrl,h,function(a){f.html(a),M.util.js_complete(b.pendingid)},"json")}}};return b});
||||||| parent of 8bd7d9e... Fix Travis CI
define(["jquery"],function(a){var b={baseUrl:"",sessKey:"",qid:"",pendingid:"",init:function(){b.pendingid="tryrule_"+Math.random().toString(36).slice(2);var c=window.location;b.baseUrl=c.protocol+"//"+c.host+c.pathname.replace("question.php","type/pmatch/api/api.php"),b.sessKey=a('#mform1 input[name="sesskey"]').val(),b.qid=a('#mform1 input[name="id"]').val(),a('textarea[name^="answer"]').each(function(){var b=a(this).attr("id").replace("id_answer_","");a(this).parent().parent().next().next().find("input").attr("id","id_tryrule_"+b)}),a('input[name="tryrule"]').on("click",function(c){c.preventDefault();var d=a(this).attr("id").replace("id_tryrule_","");b.tryrule(d)})},tryrule:function(c){M.util.js_pending(b.pendingid);var d=a("#id_answer_"+c).val();if(void 0!==d&&null!==d&&""!==d&&(d=d.trim(),""!==d)){var e=a("#id_tryrule_"+c).next(),f=a("#id_fraction_"+c).val(),g={type:"tryrule",qid:b.qid,ruletxt:d,sesskey:b.sessKey,fraction:f};a.post(b.baseUrl,g,function(a){e.html(a),M.util.js_complete(b.pendingid)},"json")}}};return b});
=======
define(["jquery"],function(a){var b={baseUrl:"",sessKey:"",qid:"",pendingid:"",baseForm:null,init:function(){b.pendingid="tryrule_"+Math.random().toString(36).slice(2);var c=window.location;b.baseUrl=c.protocol+"//"+c.host+c.pathname.replace("question.php","type/pmatch/api/api.php"),a("#mform1").length?b.baseForm=a("#mform1"):b.baseForm=a("form.mform").first(),b.sessKey=b.baseForm.find('input[name="sesskey"]').val(),b.qid=b.baseForm.find('input[name="id"]').val(),a('textarea[name^="answer"]').each(function(){var b=a(this).attr("id").replace("id_answer_","");a(this).parent().parent().next().next().find("input").attr("id","id_tryrule_"+b)}),a('input[name="tryrule"]').on("click",function(c){c.preventDefault();var d=a(this).attr("id").replace("id_tryrule_","");b.tryrule(d)})},tryrule:function(c){M.util.js_pending(b.pendingid);var d=a("#id_answer_"+c).val();if(void 0!==d&&null!==d&&""!==d&&(d=d.trim(),""!==d)){var e=a("#id_tryrule_"+c).next(),f=a("#id_fraction_"+c).val(),g={type:"tryrule",qid:b.qid,ruletxt:d,sesskey:b.sessKey,fraction:f};a.post(b.baseUrl,g,function(a){e.html(a),M.util.js_complete(b.pendingid)},"json")}}};return b});
>>>>>>> 8bd7d9e... Fix Travis CI
